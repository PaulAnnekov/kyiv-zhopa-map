const cosmolotPoints = [[50.438412,30.410524],[50.46041,30.615779],[50.444269,30.412886],[50.42265,30.379074],[50.483375,30.594337],[50.480417,30.595316],[50.445652,30.502008],[50.446007,30.499672],[50.455265,30.619126],[50.430592,30.455125],[50.427063,30.459042],[50.435373,30.647084],[50.5004,30.498981],[50.51666,30.6159],[50.402921,30.562187],[50.450453,30.46701],[50.44046,30.489384],[50.44046,30.489384],[50.449782,30.466578],[50.388237,30.494211],[50.401744,30.652889],[50.426994,30.463452],[50.425576,30.458682],[50.51549,30.510632],[50.526714,30.515743],[50.408271,30.5178],[50.408271,30.5178],[50.409144,30.626506],[50.426104,30.374025],[50.430397,30.383482],[50.508599,30.607219],[50.516669,30.615932],[50.40559,30.520711],[50.513554,30.499717],[50.520572,30.500257],[50.523931,30.497687],[50.428021,30.429244],[50.457415,30.379702],[50.458124,30.39258],[50.456796,30.365374],[50.455465,30.351828],[50.455047,30.445782],[50.456738,30.384715],[50.506788,30.413533],[50.512723,30.426711],[50.488401,30.500283],[50.42821,30.600922],[50.4636,30.353684],[50.458964,30.624515],[50.517334,30.616737],[50.41869,30.452682],[50.38619,30.488867],[50.427521,30.37455],[50.43086,30.38741],[50.424341,30.426901],[50.51267,30.42469],[50.488631,30.496705],[50.40551,30.629087],[50.478474,30.631159],[50.483386,30.394435],[50.410235,30.632147],[50.411769,30.643134],[50.409115,30.629272],[50.423855,30.597795],[50.44673,30.510584],[50.413977,30.52372],[50.413145,30.525786],[50.393926,30.62912],[50.431602,30.654254],[50.429513,30.664783],[50.442984,30.439458],[50.442227,30.437186],[50.45008,30.49401],[50.452362,30.501496],[50.451691,30.444174],[50.43969,30.44176],[50.422259,30.519292],[50.394043,30.494426],[50.397093,30.505215],[50.505282,30.454918],[50.523496,30.50058],[50.523061,30.500795],[50.44337,30.41364],[50.440099,30.443285],[50.432451,30.383574],[50.395772,30.630826],[50.461469,30.479397],[50.466573,30.470046],[50.413099,30.635861],[50.451594,30.598775],[50.451244,30.599071],[50.451783,30.599421],[50.416663,30.624942],[50.393664,30.61828],[50.432927,30.457074],[50.416135,30.397543],[50.365069,30.464122],[50.36407,30.464899],[50.42606,30.36618],[50.432336,30.362554],[50.378969,30.706862],[50.433713,30.601964],[50.412905,30.516099],[50.412905,30.516099],[50.459835,30.35446],[50.495708,30.45941],[50.401835,30.616364],[50.386721,30.437159],[50.466825,30.511647],[50.471905,30.503077],[50.459222,30.42169],[50.419769,30.37706],[50.387548,30.470765],[50.378283,30.449385],[50.453171,30.520414],[50.457335,30.6126],[50.524235,30.61021],[50.524259,30.610249],[50.512213,30.492064],[50.382368,30.45172],[50.475845,30.627091],[50.436802,30.489843],[50.396771,30.638516],[50.468599,30.515426],[50.491926,30.600356],[50.386882,30.436826],[50.443351,30.495271],[50.487307,30.469956],[50.472507,30.338083],[50.516916,30.463201],[50.459428,30.633108],[50.441459,30.630273],[50.441459,30.630273],[50.434407,30.646691],[50.429582,30.644292],[50.431753,30.64875],[50.431753,30.64875],[50.487192,30.584833],[50.423482,30.639531],[50.41177,30.645003],[50.442026,30.592046],[50.434792,30.593097],[50.442543,30.590824],[50.5116,30.42758],[50.509171,30.429873],[50.424957,30.664819],[50.412404,30.391614],[50.408553,30.40402],[50.410522,30.39916],[50.4433,30.628347],[50.465627,30.515788],[50.399659,30.630692],[50.44424,30.489656],[50.477322,30.449466],[50.511692,30.497031],[50.513559,30.497247],[50.414672,30.649224],[50.430087,30.364997],[50.385883,30.696484],[50.391942,30.605701],[50.460707,30.346914],[50.454163,30.597517],[50.468941,30.622778],[50.474116,30.636178],[50.472667,30.406248],[50.479758,30.40623],[50.473911,30.447211],[50.468866,30.620613],[50.461602,30.483049],[50.391505,30.458673],[50.403742,30.682093],[50.421869,30.649601],[50.419241,30.653886]];
const favoritPoints = [[50.401967,30.561575],[50.412339,30.6647],[50.444269,30.412886],[50.464514,30.3572],[50.421037,30.379783],[50.483042,30.593106],[50.483042,30.593106],[50.430827,30.45623],[50.436662,30.451963],[50.451594,30.598775],[50.443237,30.547157],[50.433902,30.602431],[50.50523,30.453373],[50.413139,30.517396],[50.410711,30.634134],[50.430247,30.41603],[50.435503,30.646412],[50.424056,30.516426],[50.524756,30.610291],[50.440725,30.522959],[50.446863,30.451932],[50.445874,30.443024],[50.442741,30.438296],[50.529123,30.606599],[50.436909,30.489881],[50.396953,30.501995],[50.392189,30.485263],[50.383592,30.479065],[50.432442,30.474188],[50.422259,30.519292],[50.413265,30.524511],[50.440208,30.517261],[50.485622,30.499115],[50.493381,30.576371],[50.505024,30.450624],[50.449541,30.514396],[50.446437,30.513866],[50.407593,30.622516],[50.523541,30.500657],[50.523227,30.502493],[50.449552,30.443402],[50.431433,30.383716],[50.407559,30.655656],[50.418127,30.634204],[50.508421,30.599915],[50.502165,30.604506],[50.435787,30.600922],[50.444676,30.492683],[50.443984,30.493505],[50.444762,30.492702],[50.500097,30.610498],[50.529801,30.623397],[50.391867,30.60482],[50.430661,30.364045],[50.432336,30.362554],[50.436816,30.361308],[50.515845,30.491606],[50.492148,30.601721],[50.495799,30.45897],[50.404195,30.629901],[50.402381,30.624673],[50.487406,30.602125],[50.515793,30.600418],[50.459222,30.42169],[50.387548,30.470765],[50.505431,30.472315],[50.440902,30.498334],[50.378317,30.44943],[50.462261,30.643852],[50.457042,30.613282],[50.458539,30.61277],[50.50083,30.496429],[50.511692,30.497031],[50.511692,30.497031],[50.513038,30.502601],[50.462731,30.480772],[50.469565,30.466704],[50.397317,30.641471],[50.467874,30.514171],[50.466263,30.511746],[50.471639,30.474457],[50.472828,30.446878],[50.477322,30.449466],[50.463602,30.643645],[50.455465,30.612267],[50.511858,30.421474],[50.44182,30.628976],[50.441613,30.630045],[50.431429,30.648056],[50.52114,30.449271],[50.464469,30.485998],[50.526709,30.601092],[50.426013,30.66551],[50.408553,30.40402],[50.41268,30.396887],[50.465632,30.515851],[50.397253,30.617316],[50.479712,30.407227],[50.476399,30.44863],[50.42821,30.600922],[50.421221,30.650607],[50.44864,30.523379],[50.44864,30.523379],[50.468929,30.622858],[50.468941,30.622778],[50.429335,30.65191],[50.472736,30.405304],[50.500435,30.499313],[50.432811,30.541304],[50.4307389,30.6430086],[50.464109,30.354815],[50.507968,30.609096],[50.450692,30.467165],[50.459055,30.357792],[50.398723,30.632363],[50.401744,30.652889],[50.402567,30.655293],[50.421341,30.470594],[50.437637,30.474555],[50.428899,30.430861],[50.443977,30.627934],[50.494101,30.521894],[50.527312,30.51618],[50.366104,30.453733],[50.38831,30.494281],[50.390259,30.499439],[50.441643,30.431683],[50.426104,30.374025],[50.429626,30.385409],[50.482773,30.632093],[50.523899,30.460473],[50.501821,30.591435],[50.509579,30.608115],[50.524103,30.620604],[50.517299,30.615537],[50.405309,30.520729],[50.523931,30.497687],[50.446908,30.489818],[50.459222,30.393042],[50.457472,30.382379],[50.456978,30.365462],[50.455465,30.351828],[50.450315,30.474169],[50.453796,30.447058],[50.455047,30.445782],[50.401611,30.632309],[50.41869,30.452682],[50.505299,30.439755],[50.494739,30.606455],[50.488401,30.500283],[50.513977,30.424034],[50.441108,30.619822],[50.437993,30.619319],[50.427253,30.595589],[50.418093,30.544765]];
const mapBounds = [
  [50.59, 30.25],
  [50.3, 30.8]
];

const map = L.map('map', {zoomSnap: 0.25}).fitBounds(mapBounds);

const tiles = L.tileLayer('https://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
}).addTo(map);

const gamblingMarkers = L.layerGroup();
cosmolotPoints.forEach(p => {
  L.marker(p).bindPopup('Космолот').addTo(gamblingMarkers);
});
favoritPoints.forEach(p => {
  L.marker(p).bindPopup('Фаворит').addTo(gamblingMarkers);
});

gamblingPoints = cosmolotPoints.concat(favoritPoints).map(p => p.concat(1));

L.heatLayer(gamblingPoints, {
  maxZoom: 13,
  blur: 20
}).addTo(map);

map.on('zoomend', function() {
  if (map.getZoom() < 13) {
    map.removeLayer(gamblingMarkers);
  } else {
    map.addLayer(gamblingMarkers);
  }
});
